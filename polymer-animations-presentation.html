<link rel="import" href="./bower_components/paper-button/paper-button.html">
<link rel="import" href="./bower_components/core-animation/core-animation.html">
<link rel="import" href="./bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="./bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="./bower_components/core-animated-pages/transitions/hero-transition.html">
<link rel="import" href="./bower_components/paper-input/paper-input.html">
<link rel="import" href="./bower_components/paper-input/paper-autogrow-textarea.html">
<link rel="import" href="./components/code-block.html">
<link rel="import" href="./components/collapsible-container.html">
<link rel="import" href="./components/simple-slide.html">


<polymer-element name="polymer-animations-presentation">
    <template>
        <style>
            prism-js::shadow #codeviewer {
                white-space:pre-wrap;
            }
            #pages {
                overflow:hidden;
            }
            #collapser {
                background:#9FA8DA;
                color:#fff;
                padding:.5rem;
            }
        </style>

        <core-animated-pages id="pages"
            transitions="slide-from-right hero-transition" fit>
            <simple-slide heading="The Elements" background="#7E57C2">
                <h3>Example:</h3>
                <code-block source="examples/example.html" escape='true'>
                </code-block>
                <div layout horizontal center-justified>
                    <paper-button on-click="{{play}}" raised>Toggle Animation</paper-button>
                </div>

                <collapsible-container id="collapser">
                        <paper-input-decorator>
                            <paper-autogrow-textarea>
                                <textarea></textarea>
                            </paper-autogrow-textarea>
                        </paper-input-decorator>
                </collapsible-container>
            </simple-slide>
            <simple-slide heading="The Elements 2" background="#42A5F5">
                <p>
                Bla bla bla <span hero hero-id="one">ELEMENTS</span>
                </p>
            </simple-slide>
            <simple-slide headinghero="one" heading="The Elements 3" background="#EC407A">
                <p>
                    Bla bla bla
                </p>
            </simple-slide>
        </core-animated-pages>
    </template>
    <script>
        Polymer('polymer-animations-presentation', {
            prev: function () {
                this.$.pages.selectPrevious();
            },
            next: function () {
                this.$.pages.selectNext();
            },
            play: function () {
                this.$.collapser.toggle();
            },
            attached: function (e) {
                document.addEventListener('keydown', function (e) {
                    var SPACE = 32,
                        LEFT  = 37,
                        UP    = 38,
                        RIGHT = 39,
                        DOWN  = 40;

                    switch (e.keyCode) {
                        case LEFT:
                            this.prev();
                        break;
//                        case SPACE:
                        case RIGHT:
                            this.next();
                        break;
                    }
                }.bind(this));
            }
        });
    </script>
</polymer-element>
