<link rel="import" href="./bower_components/core-animation/core-animation.html">
<link rel="import" href="./bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="./bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="./bower_components/core-animated-pages/transitions/hero-transition.html">
<link rel="import" href="./slides/slides.html">


<polymer-element name="polymer-animations-presentation">
    <template>
        <style>
            prism-js::shadow #codeviewer {
                white-space:pre-wrap;
            }
            #pages {
                overflow:hidden;
            }
            #collapser {
                background:#9FA8DA;
                color:#fff;
                padding:.5rem;
            }
        </style>

        <core-animated-pages id="pages"
            transitions="slide-from-right hero-transition" fit>

            <slide-one></slide-one>
            <slide-two></slide-two>
            <slide-three></slide-three>
        </core-animated-pages>
    </template>
    <script>
        Polymer('polymer-animations-presentation', {
            prev: function () {
                this.$.pages.selectPrevious();
            },
            next: function () {
                this.$.pages.selectNext();
            },
            play: function () {
                this.$.collapser.toggle();
            },
            attached: function (e) {
                document.addEventListener('keydown', function (e) {
                    var SPACE = 32,
                        LEFT  = 37,
                        UP    = 38,
                        RIGHT = 39,
                        DOWN  = 40;

                    switch (e.keyCode) {
                        case LEFT:
                            this.prev();
                        break;
//                        case SPACE:
                        case RIGHT:
                            this.next();
                        break;
                    }
                }.bind(this));
            }
        });
    </script>
</polymer-element>
